<div class="mb-4">
  <label class="block text-sm font-medium mb-2"> {{ setting.label }} </label>
  <div class="space-y-2" id="{{ setting.name }}_container">
    {% set items = config.get(setting.name, setting.default) %} {% if items and
    items|length > 0 %} {% for item in items %}
    <div class="flex gap-2 list-item">
      <input
        type="text"
        name="{{ setting.name }}[]"
        value="{{ item }}"
        class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <button
        type="button"
        onclick="this.parentElement.remove()"
        class="px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
      >
        Remove
      </button>
    </div>
    {% endfor %} {% else %}
    <div class="flex gap-2 list-item">
      <input
        type="text"
        name="{{ setting.name }}[]"
        value=""
        class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <button
        type="button"
        onclick="this.parentElement.remove()"
        class="px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
      >
        Remove
      </button>
    </div>
    {% endif %}
  </div>
  <button
    type="button"
    onclick="addListItem_{{ setting.name }}()"
    class="px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 mt-2"
  >
    Add Item
  </button>
</div>

<script>
  function addListItem_{{ setting.name }}() {
      const container = document.getElementById('{{ setting.name }}_container');
      const div = document.createElement('div');
      div.className = 'flex gap-2 list-item';
      div.innerHTML = `
          <input
              type="text"
              name="{{ setting.name }}[]"
              value=""
              class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
          <button
              type="button"
              onclick="this.parentElement.remove()"
              class="px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
          >
              Remove
          </button>
      `;
      container.appendChild(div);
  }
</script>
